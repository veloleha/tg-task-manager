# Telegram Task Manager

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –≤ Telegram —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Redis –∏ —Ç—Ä–µ—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤.

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –±–æ—Ç–æ–≤:

1. **User Bot** - —Å–æ–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á–∏
2. **Task Bot** - —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á–∞–º–∏ –≤ —á–∞—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
3. **Mover Bot** - –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏ –≤–µ–¥–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

## –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### üéØ –¢–µ–º—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–µ–º—É –≤ —Ñ–æ—Ä—É–º–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –í—Å–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π —Ç–µ–º–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏

### ‚è±Ô∏è –ê–≤—Ç–æ–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–µ–ª–∫–∏—Ö –∑–∞–¥–∞—á
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ç–∞–π–º–∞—É—Ç –∞–≥—Ä–µ–≥–∞—Ü–∏–∏

### üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º
- –î–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –≤ –∞—Ä—Ö–∏–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  User Bot   ‚îÇ    ‚îÇ  Task Bot   ‚îÇ    ‚îÇ Mover Bot   ‚îÇ
‚îÇ             ‚îÇ    ‚îÇ             ‚îÇ    ‚îÇ             ‚îÇ
‚îÇ ‚Ä¢ –°–±–æ—Ä      ‚îÇ    ‚îÇ ‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞ ‚îÇ    ‚îÇ ‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞‚îÇ
‚îÇ   —Å–æ–æ–±—â–µ–Ω–∏–π ‚îÇ    ‚îÇ   –∑–∞–¥–∞—á     ‚îÇ    ‚îÇ ‚Ä¢ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ‚îÇ
‚îÇ ‚Ä¢ –ê–≥—Ä–µ–≥–∞—Ü–∏—è ‚îÇ    ‚îÇ ‚Ä¢ –ö–Ω–æ–ø–∫–∏    ‚îÇ    ‚îÇ ‚Ä¢ –û—á–∏—Å—Ç–∫–∞   ‚îÇ
‚îÇ ‚Ä¢ –¢–µ–º—ã      ‚îÇ    ‚îÇ ‚Ä¢ –û—Ç–≤–µ—Ç—ã    ‚îÇ    ‚îÇ ‚Ä¢ –ê—Ä—Ö–∏–≤     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                   ‚îÇ                   ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ    Redis    ‚îÇ
                    ‚îÇ             ‚îÇ
                    ‚îÇ ‚Ä¢ Pub/Sub   ‚îÇ
                    ‚îÇ ‚Ä¢ –î–∞–Ω–Ω—ã–µ    ‚îÇ
                    ‚îÇ ‚Ä¢ –°—á–µ—Ç—á–∏–∫–∏  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# –¢–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤
USER_BOT_TOKEN=your_user_bot_token
TASK_BOT_TOKEN=your_task_bot_token
MOVER_BOT_TOKEN=your_mover_bot_token

# –ß–∞—Ç—ã
FORUM_CHAT_ID=-1002269851341
SUPPORT_CHAT_ID=-1002269851341

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
MESSAGE_AGGREGATION_TIMEOUT=300
WAITING_TOPIC_ID=1
COMPLETED_TOPIC_ID=3
```

### 3. –ó–∞–ø—É—Å–∫ Redis

```bash
# –ò—Å–ø–æ–ª—å–∑—É—è Docker
docker run -d -p 6379:6379 redis:alpine

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
redis-server core/redis.conf
```

### 4. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
python main.py

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –±–æ—Ç–æ–≤
python main.py --only user        # –¢–æ–ª—å–∫–æ User Bot
python main.py --only task        # –¢–æ–ª—å–∫–æ Task Bot
python main.py --only mover       # –¢–æ–ª—å–∫–æ Mover Bot

# –° –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
python main.py --debug

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –±–æ—Ç–æ–≤
python -m bots.user_bot.main
python -m bots.task_bot.main
python -m bots.mover_bot.main
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
manager/
‚îú‚îÄ‚îÄ bots/
‚îÇ   ‚îú‚îÄ‚îÄ user_bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_bot.py           # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ topic_manager.py      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message_aggregator.py # –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ task_bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ task_bot.py          # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ redis_manager.py     # –†–∞–±–æ—Ç–∞ —Å Redis
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pubsub_manager.py    # Pub/Sub —Å–æ–±—ã—Ç–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatters.py        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py         # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ mover_bot/
‚îÇ       ‚îú‚îÄ‚îÄ mover_bot.py         # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îÇ       ‚îú‚îÄ‚îÄ main.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
‚îÇ
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ models.py               # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ redis_client.py         # Redis –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ redis.conf              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Redis
‚îÇ
‚îú‚îÄ‚îÄ logs/                       # –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ .env                        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ main.py                     # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## Workflow —Å–∏—Å—Ç–µ–º—ã

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí User Bot ‚Üí –ê–≥—Ä–µ–≥–∞—Ü–∏—è ‚Üí Redis ‚Üí Task Bot ‚Üí –ß–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏
```

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ User Bot
2. –°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ (5 –º–∏–Ω—É—Ç)
3. –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –≤ Redis
4. Task Bot –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –≤ —á–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏
5. –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ñ–æ—Ä—É–º–µ

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á–∏

```
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ ‚Üí –ö–Ω–æ–ø–∫–∏ ‚Üí Task Bot ‚Üí Redis ‚Üí User Bot ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

1. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É (–≤–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É, –∑–∞–≤–µ—Ä—à–∏—Ç—å)
2. Task Bot –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ Redis
3. User Bot –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–∞–∫—Ü–∏–∏
4. –ü—Ä–∏ –æ—Ç–≤–µ—Ç–µ - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### 3. –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

```
–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ ‚Üí Task Bot ‚Üí Redis ‚Üí Mover Bot ‚Üí –ê—Ä—Ö–∏–≤–Ω–∞—è —Ç–µ–º–∞
```

1. –ó–∞–¥–∞—á–∞ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–∞—è
2. Mover Bot –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. –°–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤–Ω—É—é —Ç–µ–º—É
4. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### User Bot
- ‚úÖ –°–±–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ê–≤—Ç–æ–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (5 –º–∏–Ω—É—Ç)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ–º
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- ‚úÖ –†–µ–∞–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### Task Bot
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ (unreacted ‚Üí waiting ‚Üí in_progress ‚Üí completed)
- ‚úÖ FSM –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∑–∞–¥–∞—á–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á

### Mover Bot
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏ —Ñ–æ—Ä—É–º–∞
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏
–í—Å–µ –±–æ—Ç—ã –≤–µ–¥—É—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- `logs/user_bot.log` - —Å–æ–±—ã—Ç–∏—è User Bot
- `logs/task_bot.log` - —Å–æ–±—ã—Ç–∏—è Task Bot  
- `logs/mover_bot.log` - —Å–æ–±—ã—Ç–∏—è Mover Bot
- `logs/*_errors.log` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏

### –ú–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∑–∞–¥–∞—á
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–¥–∞—á
/stats –≤ Mover Bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
redis-cli info

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f logs/task_bot.log
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `USER_BOT_TOKEN` | –¢–æ–∫–µ–Ω User Bot | - |
| `TASK_BOT_TOKEN` | –¢–æ–∫–µ–Ω Task Bot | - |
| `MOVER_BOT_TOKEN` | –¢–æ–∫–µ–Ω Mover Bot | - |
| `FORUM_CHAT_ID` | ID —Ñ–æ—Ä—É–º–∞ | - |
| `SUPPORT_CHAT_ID` | ID —á–∞—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | - |
| `MESSAGE_AGGREGATION_TIMEOUT` | –¢–∞–π–º–∞—É—Ç –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ (—Å–µ–∫) | 300 |
| `STATS_UPDATE_INTERVAL` | –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—Å–µ–∫) | 30 |
| `WAITING_TOPIC_ID` | ID —Ç–µ–º—ã –æ–∂–∏–¥–∞—é—â–∏—Ö | 1 |
| `COMPLETED_TOPIC_ID` | ID —Ç–µ–º—ã –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö | 3 |

### Redis –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ core/redis.conf
port 6379
bind 127.0.0.1
maxmemory 256mb
maxmemory-policy allkeys-lru
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker Compose

```yaml
version: '3.8'
services:
  redis:
    image: redis:alpine
    ports:
      - "6379:6379"
    volumes:
      - ./core/redis.conf:/usr/local/etc/redis/redis.conf
    command: redis-server /usr/local/etc/redis/redis.conf

  user-bot:
    build: .
    command: python -m bots.user_bot.main
    depends_on:
      - redis
    env_file:
      - .env

  task-bot:
    build: .
    command: python -m bots.task_bot.main
    depends_on:
      - redis
    env_file:
      - .env

  mover-bot:
    build: .
    command: python -m bots.mover_bot.main
    depends_on:
      - redis
    env_file:
      - .env
```

### Systemd —Å–µ—Ä–≤–∏—Å—ã

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
sudo cp scripts/*.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable task-manager-*
sudo systemctl start task-manager-*
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ —Ç–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- Redis –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –±–æ—Ç–æ–≤

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ü—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è Redis
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSD –¥–ª—è Redis
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ë–æ—Ç—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ `.env`
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —á–∞—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis

2. **–ó–∞–¥–∞—á–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ User Bot
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Redis –∑–∞–ø—É—â–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–æ–≤ –≤ —á–∞—Ç–∞—Ö

3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Mover Bot
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redis Pub/Sub
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ CHAT_ID

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
redis-cli ping

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
redis-cli client list

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
redis-cli keys "task:*" | wc -l

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Pub/Sub
redis-cli monitor
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- Redis 6.0+
- aiogram 3.x
- aioredis 2.x

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
python -m pytest --cov=bots tests/

# –õ–∏–Ω—Ç–∏–Ω–≥
flake8 bots/
black bots/
```

### –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues –¥–ª—è –±–∞–≥–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ README —Ñ–∞–π–ª–∞—Ö –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–∞–ø–∫–µ examples/

---

**–í–µ—Ä—Å–∏—è**: 2.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 30.01.2025  
**–ê–≤—Ç–æ—Ä—ã**: Task Manager Team
